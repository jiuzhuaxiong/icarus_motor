
FIXED PID POSITION:
    - might be better to control lead instead of pwm - depending on whether it stops down


FIXES PID:
    - to average velocity use all photosensors and average speed between 3 of them


MAIN BEHAVIOUR:
    - rotate home after completing a task (if needed)

    - how do you detect that position control has finished

    - mutices in threads - you probably need them


    - measure speed using average of all 3 sensors

    - controller - try adding the output to the current duty instead of setting the duty to 1-output


    NOTE !!!!!!!!
        - after finishing position control, before a new command you should set rotations to 0 (does motor home do it???)



REPORT:
    - velocity measurement filtering
    - derivative filtering
    - frequency of measuring velocity - no need to be higher than frequency of controller - even bad if it is higher
    - different ways of measuring position based on speed

    - figure out what is the model for speed/position vs PWM - google

    - rotations - how do you model your controller

    - position controller - revolutions
    - combining the output from position and velocity controllers - which one to choose (bing says choose the one that gives smaller output)


    IMPORTANT:
        - small pwm period does not work well for precise velocity control because finer values of the duty cycle don't have effect and 

    THREAD ANALYSIS 
        - priorities and stuff
        - 





AUTOTUNE:
    - check the behaviour of step input; do step input by changing pwm rapidly from 0 to 1



T = 0.5265
Kp = 0.06


T = 0.006
Kp = 0.06

